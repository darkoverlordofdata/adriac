#!/bin/bash

function USAGE {
  echo -e "Bosco scaffolding tools"
  echo -e ""
  echo -e "Usage:"
  echo -e "bosco init folder domain.org"
  exit 1
}
if [ $# -eq 0 ]; then
  USAGE
fi

while getopts ":h " option; do
    case $option in
        h) USAGE;;
        ?) echo "Error: Invalid option was specified -$OPTARG";USAGE;;
    esac
done
shift $((OPTIND-1))

if [ $1 == "init" ]; then
  shift
  if [ $# -eq 2 ]; then 
    mkdir $1
    cd $1
    autovala init $1
    pushd $SDL2SDK/build-scripts
    ./androidbuild.sh $2 $BOSCO/src/main.c
    popd
    mv -v $SDL2SDK/build/$2 ./android
    cp -v $BOSCO/src/Cakefile .
    cp -v $BOSCO/src/main.vala ./src
    mkdir -v -p ./assets
    cp -v -f $SDL2SDK/test/sample.bmp ./assets/sample.bmp
    mkdir -v -p ./src/emvapis
    cp -v -f $BOSCO/src/emvapis/*.* ./src/emvapis
    mkdir -v -p ./src/vapis
    cp -v -f $BOSCO/src/vapis/*.* ./src/vapis
    exit ;
  fi
  echo "Invalid number of arguments "
  USAGE
  exit ;
fi
echo "Invalid command: [$1]"
USAGE


      
